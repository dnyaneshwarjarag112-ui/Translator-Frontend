<link rel="stylesheet" href="style.css">

<h2>Login</h2>
<input id="email" placeholder="Email"><br>
<input id="password" type="password" placeholder="Password"><br>
<button onclick="login()">Login</button>

<script>
async function login() {
    // DOM se values fetch karo
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");

    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();

    if (!email || !password) {
        return alert("Both fields are required");
    }

    try {
        const res = await fetch("https://translator-backend-k6xr.onrender.com/api/login", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email, password })
        });

        const data = await res.json();

        if (res.ok && data.token) {
            // Token localStorage me save karo
            localStorage.setItem("token", data.token);
            alert("Login successful");
            window.location.href = "index.html"; // Translation page pe redirect
        } else {
            alert(data.message || "Login failed");
        }
    } catch (err) {
        console.error(err);
        alert("Login failed, check server");
    }
}
</script>

